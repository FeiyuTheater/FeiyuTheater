---
layout: default
---
<!-- _layouts/work-detail.html -->

<!-- Hero Banner Section -->
<section class="work-detail-banner">
    <div class="banner-image" style="background-image: url('{{ page.work_details.banner_image }}');"></div>
    <div class="banner-overlay">
        <div class="banner-content">
            <h1 class="work-title">{{ page.work_details.title }}</h1>
            <div class="work-meta">
                <span class="work-date">
                {% if page.work_details.dates %}
                    {% assign first_date = page.work_details.dates | first %}
                    {% assign first_year = first_date | date: "%Y" %}
                    {% assign first_month = first_date | date: "%-m" %}
                    {% assign first_day = first_date | date: "%-d" %}
                    {% assign formatted_dates = first_year | append: '年' | append: first_month | append: '月' | append: first_day | append: '日' %}

                    {% if page.work_details.dates.size > 1 %}
                    {% for date_str in page.work_details.dates offset:1 %}
                        {% assign current_year = date_str | date: "%Y" %}
                        {% assign current_month = date_str | date: "%-m" %}
                        {% assign current_day = date_str | date: "%-d" %}

                        {% if current_year == first_year and current_month == first_month %}
                        {% assign date_part = current_day | append: '日' %}
                        {% else %}
                        {% assign date_part = current_year | append: '年' | append: current_month | append: '月' | append: current_day | append: '日' %}
                        {% endif %}

                        {% assign formatted_dates = formatted_dates | append: ' | ' | append: date_part %}
                    {% endfor %}
                    {% endif %}

                    {{ formatted_dates }}
                {% else %}
                    {{ page.work_details.date }}
                {% endif %}
                </span>
                <span class="work-location">{{ page.work_details.location }}</span>
            </div>
        </div>
    </div>
</section>

<!-- Introduction Section -->
<section class="detail-section introduction-section">
    <div class="container">
        <h2 class="section-title">
            <!-- <span class="title-dash">——</span> -->
            剧目简介
            <!-- <span class="title-dash">——</span> -->
        </h2>

        <div class="description-container">
            <div class="description-container">
                <p class="introduction-text">{{ page.work_details.introduction }}</p>
            </div>
        </div>

        <div class="poster-cast-section section-content">
            {% include cast-poster.html production_team=page.work_details.production_team poster_image=page.work_details.poster_image %}
        </div>
    </div>
</section>


<section class="detail-section highlight-section">
    <div class="container">
        <h2 class="section-title">
            <!-- <span class="title-dash">——</span> -->
            精彩回顾
            <!-- <span class="title-dash">——</span> -->
        </h2>

<!-- Video Section -->
{% if page.work_details.youtube_video %}
    <section class="video-section">
        <div class="section-content">
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/{{ page.work_details.youtube_video }}" frameborder="0"
                    allowfullscreen class="youtube-video">
                </iframe>
            </div>
        </div>
    </section>
{% endif %}

<!-- Photos Section -->
    <section class="detail-section photos-section">
        <div class="container">
            <div class="section-content">
                <div class="photo-wall" id="photo-wall">
                    {% for photo in page.work_details.photos %}
                    <div class="photo-item photo-{{ photo.size }}" data-lightbox-src="{{ photo.full_image | default: photo.image }}">
                        <img src="{{ photo.image }}" alt="{{ photo.caption }}" class="photo-image">
                        <div class="photo-caption">{{ photo.caption }}</div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
</section>

<!-- Photo lightbox -->
<div class="lightbox-overlay" id="lightbox">
    <div class="lightbox-content">
        <button class="lightbox-close" aria-label="Close"></button>
        <button class="lightbox-nav lightbox-prev" aria-label="Previous"></button>
        <button class="lightbox-nav lightbox-next" aria-label="Next"></button>
        <img class="lightbox-image" src="" alt="">
        <div class="lightbox-caption"></div>
    </div>
</div>
<!-- Custom content from markdown -->
{% assign content_stripped = content | strip %}
{% if content_stripped != "" %}
<div class="custom-content">
    {{ content }}
</div>
{% endif %}

<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
<script src="{{ '/assets/js/work-detail.js' | append: page.js | relative_url }}"></script>